[首页](/index.md) << ... << [索引](index.md)

# shell中的双小括号(())
shell中的双小括号用于进行数学运算，只支持整数运算，不支持浮点数运算。

## 语法
    $（（表达式1,表达式2…））

## 特点
1. 在双括号结构中，只要是符合C语言运算规则的表达式都可以。包括：
    + 标准的数学运算：加(+)、减(-)、乘(*)、除(/)四则运算；取模(%)；幂运算(**)
    + 自增和自减：val++、++val、val--、--val
    + 逻辑运算符：求反(!)、逻辑与(&&)、逻辑或(||)
    + 位运算：位求反(~)、位与(&)、位或(|)、左位移(<<)、右位移(>>)
    + 
2. 在双括号结构中，所有对变量的引用可以不使用“$”符号前缀。
3. 双括号可以进行逻辑运算，四则运算
4. 双括号结构 扩展了for、while、if条件测试运算
5. 支持多个表达式运算，各个表达式之间用“，”分开

## 示例
### 扩展四则运算
```
#!/bin/bash
# desc: 双小括号示例代码
# author: setamv
# issue: 2019-02-05

# 初始变量
a=1
b=2

# 加、减、乘、除四则运算
echo "------------------加、减、乘、除四则运算-------------"
echo $((a + $b + 1))

# 幂运算
echo "------------------幂运算：2的三次方------------------"
echo $((2 ** 3))

# 自增
echo "-------------------自增---------------"
echo $(( a++ ))
echo $(( ++b ))
echo "a = $a, b = $b"

# 取模
echo "-------------------取模--------------"
echo $(( $a % 3 ))

# 赋值
echo "-------------------赋值--------------"
echo $(( a = 10, b = 20))
echo "a = $a, b = $b"

# 三目运算
echo "------------------三目运算：a的值变为a、b中最大的那个--------------"
echo $(( a = (a > b) ? a : b ))
echo "a = $a, b = $b"

# 位运算
echo "------------------位运算：取a的低四位的值---------------------"
echo $(( a = a & 2#1111))
echo "a = $a, b = $b"

# 逻辑运算
echo "------------------逻辑运算--------------"
(( b == "20" )) && echo "b is 20"

if (( b > 10 )); then
        echo "b is greater than 10"
else 
        echo "b is less equal than 10"
fi

echo "a = $a, b = $b"

# 扩展流程控制语句
echo "-----------------for流程控制：计算1到10的和---------------"
total=0
for((i=0; i<=10; i++));
do
        ((total += i));
done
echo "for - sum of 1 to 10 is: $total"
```

执行结果：
```
[root@centos-7-192 shell]# ./brace.sh 
------------------加、减、乘、除四则运算-------------
4
------------------幂运算：2的三次方------------------
8
-------------------自增---------------
1
3
a = 2, b = 3
-------------------取模--------------
2
-------------------赋值--------------
20
a = 10, b = 20
------------------三目运算：a的值变为a、b中最大的那个--------------
20
a = 20, b = 20
------------------位运算：取a的低四位的值---------------------
4
a = 4, b = 20
------------------逻辑运算--------------
b is 20
b is greater than 10
a = 4, b = 20
-----------------for流程控制：计算1到10的和---------------
for - sum of 1 to 10 is: 55
```

### 扩展流程控制语句（逻辑关系式）
```
#!/bin/bash
# 扩展流程控制语句
echo "-----------------for流程控制：计算1到10的和---------------"
total=0
for((i=0; i<=10; i++));
do
        ((total += i));
done
echo "for - sum of 1 to 10 is: $total"
```
执行结果：
```
-----------------for流程控制：计算1到10的和---------------
for - sum of 1 to 10 is: 55
```